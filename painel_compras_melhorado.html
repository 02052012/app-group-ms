
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel de Compras - App Group MS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f2f2f2; margin: 0; }
    h2 { color: #800000; margin-top: 0; }
    .painel-container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
    th { background-color: #800000; color: white; position: sticky; top: 0; }
    tr:hover { background-color: #f1f1f1; }
    .vazio { color: #999; font-style: italic; text-align: center; padding: 20px; }
    .resumo { font-size: 14px; color: #444; margin-top: 20px; text-align: right; }
  </style>
</head>
<body>
  <div class="painel-container">
    <h2>Painel de Compras</h2>
    <p>Visualize os produtos solicitados pelas lojas:</p>
    <div id="painel"></div>
    <div class="resumo" id="resumo"></div>
  </div>

<script>
const dados = JSON.parse(localStorage.getItem("pedidoEnviadoMS") || "{}");
const painel = document.getElementById("painel");
const resumo = document.getElementById("resumo");

if (Object.keys(dados).length === 0) {
  painel.innerHTML = "<p class='vazio'>Nenhum pedido recebido ainda.</p>";
} else {
  let tabela = "<table><thead><tr><th>Produto</th><th>Quantidade</th></tr></thead><tbody>";
  let total = 0;
  for (const [produto, qtd] of Object.entries(dados)) {
    tabela += `<tr><td>${produto}</td><td>${qtd}</td></tr>`;
    total += parseFloat(qtd);
  }
  tabela += "</tbody></table>";
  painel.innerHTML = tabela;
  resumo.innerHTML = `<strong>Total de Itens:</strong> ${total}`;
}
</script>
</body>
</html>
